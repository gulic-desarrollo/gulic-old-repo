%Author: AgarFu, _ese & wizard--

\chapter{Instalacion de GNU/Linux}


\section{Introducción}

En este capítulo repasaremos de forma  genérica, para que nos sirva de
guía, una instalación de cualquier  distribución de Linux. Tenemos que
decir que lo que nos planteamos  conseguir no es tarea sencilla porque
todas  las  distribuciones  tienen  sus  pequeñas  diferencias  aunque
generalmente todas pasan en sus procesos de instalación por unas fases
que son comunes que aquí vamos a detallar. El orden en el que aparecen
las  diferentes  etapas  comentadas  en este  capítulo  no  tiene  por
que  ser necesariamente  de  forma  estricta a  seguir  por todas  las
distribuciones, pero  es uno  de los  más usuales  en los  procesos de
instalación.\\

¡¡Atención!! Antes de comenzar con  la instalación recomendamos que se
lea la sección  referente a las particiones que se  puede encontrar en
este mismo capítulo.\\

\section{Arrancando}

Normalmente cuando nos disponemos a instalar una distribución Linux lo
hacemos desde CD-ROM. Si nuestra placa base nos permite arrancar desde
CD-ROM no  tendremos problema  ya que simplemente  colocamos el  CD de
nuestra distribución  preferida en el  CD-ROM, le indicamos a  la BIOS
que lo primero  que intente arrancar sea el CD-ROM  y listo, tendremos
nuestro sistema de instalación de nuestra distribución esperando a que
le demos la orden de continuar.\\

\begin{figure}[hbtp]
\centering
\includegraphics[width=\textwidth]{imagenes/bootsplash.eps}
\caption{Instalación 1}
\end{figure}

Si nuestra placa no soporta el  arranque desde el CD siempre se pueden
hacer los  disketes para arrancar  desde la disketera. Todos  los PC's
que disponen de disketera pueden arrancar desde ella. Para arrancar el
sistema de instalación desde discos de 3,5" tendremos que buscar en el
contenido del CD de instalación de la distribución las imágenes de los
discos de  arranque. Normalmente están  en un directorio que  se llama
"images",  aunque  esto no  siempre  es  una  norma fija.  Cuando  los
encontremos tendremos que copiar las  imágenes a los disketes. Esto se
hace  con una  herramienta  que normalmente  traen  también todos  los
CDs  de  las  distribuciones  que se  llama  rawrite.  Seguiremos  las
indicaciones  que  nos  dé  el  rawrite para  hacer  los  disketes  de
instalación y guardaremos con celo el trabajo realizado hasta ahora.\\

Una  vez  que  tenemos  esos discos en la mano tendremos que decirle a
nuestra  BIOS  que  intente  arrancar  en primer desde la disketera, y
reiniciamos y colocamos el diskete de instalación en  la  disketera, y
tras unos momentos de incertidumbre tendremos finalmente el sistema de
instalación de nuestra distribución listo para continuar.

\section{Idioma y teclado}

Normalmente después  de la bienvenida  tendremos que elegir  el idioma
para la instalación y la distribución del teclado que usaremos.\\

El idioma  es a  vuestro gusto,  elegid aquél con  el que  más comodos
estéis  y  la distribución  de  teclado  se  recomienda que  uséis  la
distribución  de  vuestro teclado,  ya  que  si  no lo  hacéis  podéis
encontraros que  pulsando la  tecla ñ  aparezca una  `p' o  algún otro
carácter. Los teclados españoles son del tipo qwerty-ES.

\begin{figure}[hbtp]
\centering
\includegraphics[width=\textwidth]{imagenes/mandrake_idioma.eps}
\caption{Instalación 2}
\end{figure}

\section{Particiones}

Hemos llegado  a un punto  delicado de la instalación,  normalmente es
peligroso porque  podemos dañar la información  almacenada en nuestros
discos duros.\\

Lo primero que nos planteamos es si  vamos a tener un ordenador con un
único  sistema operativo,  en nuestro  caso  Linux o  si serán  varios
sistemas operativos,  cuyo caso  más generalizado  es Linux  y Windows
conviviendo en el mismo ordenador.\\


\subsection{El caso más general: convivamos con Windows}

Comenzamos  por  el caso  más  general,  es  decir, los  dos  sistemas
operativos juntos. Suponemos que ya  está instalado Windows y que sólo
tenemos un disco  duro. En ese caso tendremos que  hacer sitio para la
instalación de  Linux en el  disco duro  que disponemos. Este  paso es
delicado, pero  si se  siguen los pasos  aquí detallados  no tendremos
problemas. Los  pasos a  seguir para  no perder  la información  de la
partición de nuestro Windows son los siguientes:

\begin{enumerate}
\item{Desfragmentar la partición de Windows.}

\item{Decidir  cuánto espacio  vamos a  dejar para  la instalación  de
Linux. Esta  decisión corre  a cuenta del  usuario. Se  recomienda que
para  una  instalación  completa  de las  distribuciones,  se  reserve
alrededor de 2Gb de espacio en disco.}

\item{Reducir  el tamaño  de la  partición de  Windows. Para  llevar a
cabo  esta tarea  se  tienen varias  posibilidades. Podemos  encontrar
sofware\footnote{Uno de los  paquetes de software más  usados en estos
menesteres  es  el  \emph{PartitionMagic} de  \emph{PowerQuest}}  para
Windows, que facilita la labor  permitiendo redimensionar el tamaño de
la partición  de manera  gráfica. Ésta es  la opción  que recomendamos
para los usuarios con poca experiencia en este tipo de prácticas. Para
usuarios  con  algo  más  de conocimientos  tenemos  utilidades  menos
amigables pero más  fáciles de conseguir como son el  fdisk de Linux y
el  diskdruid.  Tened  cuidado  con  estas  dos  herramientas  porque,
repetimos, pueden dañar el contenido de vuestros discos duros.}

\begin{figure}[hbtp]
\centering
\includegraphics[width=\textwidth]{imagenes/redhat_particiones.eps}
\caption{Instalación 3}
\end{figure}

\item{Establecer   las  particiones   de   Linux. Se necesitarán   dos
particiones  en   lugar  de  una   como  se  piensa   inicialmente.  A
continuación se detallará este paso.}

\end{enumerate}


\subsection{La vida en solitario}

Trataremos el  segundo supuesto: en  nuestro disco duro sólo  habrá un
sistema operativo, Linux. Tendremos que hacer dos particiones, en este
punto hay  mucho que explicar.  Empezaremos por comentar los  tipos de
particiones que  normalmente se pueden  encontrar en un  PC doméstico.
Hemos  de tener  claro lo  que  son particiones  primarias, lógicas  y
extendidas.


\subsection{Tipos de particiones}

\begin{description}

\item[Particiones  primarias:]{  es  el   tipo  básico  de  partición.
Podremos  disponer como  máximo  de cuatro  particiones primarias.  Si
hacemos uso  de todas las  particiones primarias ya no  podremos crear
más particiones de ningún  otro tipo\footnote{Como observación diremos
que en  Windows tendremos problemas a  la hora de trabajar  con más de
una partición primaria en FAT16 o FAT32}.}

\item[Particiones  lógicas:]{   en  caso  de  querer   más  de  cuatro
particiones deberemos usar particiones lógicas. Tendremos que eliminar
al  menos una  partición  primaria para  crear  una partición  lógica.
Desde este  momento podremos crear tantas  particiones extendidas como
deseemos a partir de esta partición lógica.}

\item[Particiones extendidas:]{  este tipo de particiones  son las que
se  crean  a partir  de  la  partición  lógica, nunca  podremos  crear
particiones extendidas desde una partición primaria.}

\end{description}

Una vez  aclarados los tipos  de particiones que  podemos encontrarnos
vamos a determinar  la manera que tiene Linux de  asignarles un nombre
de dispositivo. En Linux todos los dispositivos son ficheros, desde la
pantalla  ({\tt  /dev/stdout})  hasta el  teclado  ({\tt  /dev/stdin})
pasando por los discos duros, CD-ROM, etc\ldots.\\

\subsection{Nomenclatura de particiones}

En primer  lugar hemos de decir  que los PC's domésticos  suelen tener
dos controladoras de disco  duro (IDE1 e IDE2) y en  cada una de estas
controladoras podremos conectar  dos dispositivos físicos (dispositivo
maestro  y  dispositivo  esclavo).  A  estas  controladoras  se  puede
conectar todo lo que tenga una  interfaz hardware IDE, esto es, discos
duros IDE, CD-ROM's IDE, DVD's IDE, y una larga lista de dispositivos.

La manera de nombrar los ficheros correspondientes a cada uno de estos
elementos de hardware es la siguiente:

\begin{center}
Controladora IDE1 $\left\{
\begin{tabular}{lcr}
Maestro & $\Rightarrow$ & {\tt /dev/hda} \\
Esclavo & $\Rightarrow$ & {\tt /dev/hdb} \\
\end{tabular}
\right.$
\end{center}

\begin{center}
Controladora IDE2 $\left\{
\begin{tabular}{lcr}
Maestro & $\Rightarrow$ & {\tt /dev/hdc} \\
Esclavo & $\Rightarrow$ & {\tt /dev/hdd} \\
\end{tabular}
\right.$
\end{center}

Por si  quedaran más  dudas, como casi  todos estamos  acostumbrados a
trabajar en Windows, si cada  disco forma una única partición, podemos
decir que {\tt /dev/hda} es el  equivalente a {\bf C:}, {\tt /dev/hdb}
es el equivalente a {\bf D:} y así sucesivamente\dots

Sigamos con  la nomenclatura de  las particiones utilizada  por Linux.
Las particiones primarias y las lógicas se nombran añadiendo al nombre
del dispositivo, ya detallado, un número que indica el órden lógico de
la partición.  La primera  partición de  uno de  los discos  será {\tt
/dev/hd{\bf x}1}, la seguda {\tt  /dev/hd{\bf x}2} donde la {\tt\bf x}
es lo que va a determinar a  que disco nos estamos refiriendo según la
tabla anterior.\\

Las particiones extendidas  también se nombran utilizando  el orden en
el que  se definen  pero teniendo  en cuenta  que los  cuatro primeros
números están reservados para las particiones primarias, por lo tanto,
las particiones extendidas  empezarán a numerarse a  partir del cinco.
Tenemos un disco duro, con una  partición lógica, tres primarias, y en
la  partición  lógica  tenemos tres  particiones  extendidas,  haremos
referencia a  cada una de  las particiones de esta  manera. (Suponemos
que el  disco está  conectado como maestro  a la  primera controladora
IDE)\\

\begin{center}
\begin{tabular}{rcl}
partición lógica & $\Rightarrow$ & {\tt /dev/hda1} \\
partición extendida 1 & $\rightarrow$ & {\tt /dev/hda5} \\
partición extendida 2 & $\rightarrow$ & {\tt /dev/hda6} \\
partición extendida 3 & $\rightarrow$ & {\tt /dev/hda7} \\
partición primaria 1 & $\Rightarrow$ & {\tt /dev/hda2} \\
partición primaria 2 & $\Rightarrow$ & {\tt /dev/hda3} \\
partición primaria 3 & $\Rightarrow$ & {\tt /dev/hda4} \\
\end{tabular}\\
\end{center}

Bien, sabemos  que esto es  bastante denso  al principio cuando  no se
tiene práctica,  pero con el  uso nos  daremos cuenta que  tiene mucha
lógica y que aprendiéndonos un par de reglas todo va sobre ruedas.\\


\subsection{Esas dos particiones}

En  este punto  ya es  hora de  introducir el  significado de  las dos
particiones necesarias en un sistema Linux.  La primera de ellas es la
partición de swap. Esta partición lo utiliza el sistema operativo como
memoria de  intercambio. En el momento  en el que se  llena la memoria
principal  de nuestro  ordenador,  el sistema  utiliza  la memoria  de
intercambio  para continuar  ejecutando los  programas sin  problemas.
Esta partición es  de uso exclusivo del sistema, lo  que significa que
no la podremos  utilizar para guardar nuestro datos.  La buena noticia
es que  esta partición es  muy pequeña, normalmente es  suficiente con
dejar para la partición de swap 256 Mb de disco, no obstante puede ser
todo lo grande que se quiera, siempre que haya sitio para el resto del
sistema. El  tipo de sistema de  ficheros que tendremos que  asignar a
esta partición no tiene duda, Linux Swap.\\

La  segunda partición  es donde  vamos  a colocar  todos los  ficheros
del  nuevo sistema  operativo,  en ella  encontraremos desde  nuestros
directorios personales hasta los programas  de usuario, pasando por el
núcleo del sistema  operativo, por lo tanto,  esta partición tendremos
que dejarle  bastante sitio.  Como ya hemos  recomendado anteriormente
2Gb  serán suficientes  para una  instalación normal  de Linux.  Ahora
entremos en el fantástico mundo de  los sistemas de ficheros, que como
llevamos haciendo hasta el momento también daremos un breve repaso.


\subsection{Tipos de sistemas de ficheros}

Los  sistemas de  ficheros  se pueden  clasificar  de varias  maneras,
nosotros  lo haremos  atendiendo a  la  capacidad de  los sistemas  de
ficheros transaccionales  (journaling). El  journaling es  una técnica
que  implementan  algunos  sistemas  de ficheros  muy  parecida  a  la
utilizada  por las  transacciones en  las bases  de datos.  La técnica
consiste en que todas las operaciones  que se han de realizar sobre el
sistema de ficheros se guardan en  disco antes de realizarse que luego
se van llevando a cabo y se van eliminando de la lista a medida que se
concluye  su  ejecución. La  ventaja  que  nos  dan los  sistemas  con
journaling es que si nuestro sistema se cae (por ejemplo se va la luz)
todas las tareas que el disco tendría que haber hecho para mantener la
estructura  lógica del  sistema  de ficheros  está  guardada y  cuando
reestablecemos  el  sistema  tenemos  el  disco  en  perfecto  estado,
eliminando de esta  manera los famosos verificadores  de la estructura
del disco, el más conocido es scandisk.\\

Comencemos con los sistemas de ficheros que no implementan journaling,
éstos son:
\begin{description}
\item[FAT16:]{sistema de fichero nativo  de Windows95 (sin política de
seguridad robusta).}

\item[FAT32:]{sistema de  ficheros nativo de  Windows98-WindowsMe (sin
política de seguridad robusta).}

\item[ext2:]{sistema de  ficheros nativo de  Linux 2.x y 4.x  (con una
buena política de seguridad).}

\end{description}

Sistemas de ficheros que implementan journaling
\begin{description}

\item[ext3:]{Este sistema  de ficheros es  una evolución del  ext2 que
implementa journaling  además de  la política  de seguridad  basada en
permisos del ext2.}

\item[ReiserFs:]{Sistema de  ficheros con  journaling que  obtiene muy
buenos  resultados trabajando  con  ficheros de  gran tamaño,  también
cuenta con una muy buena política de seguridad.}

\item[NTFS:]{Sistema de  ficheros nativo  de WindowsNT,  Windows2000 y
WindowsXP,  tiene un  sistema de  seguridad  basado en  ficheros y  en
listas de control de acceso.  Desgraciadamente este tipo de sistema de
ficheros no es abierto, está sometido a continuos cambios por parte de
su dueño,  Microsoft, y por  lo tanto no se  tiene un buen  soporte en
Linux, de tal modo que sólo está soportado de manera segura la lectura
de este tipo de sistema de fichero.}

\item[XFS:]{sistema de  ficheros que implementan las  máquinas silicon
graphics.}

\item[JFS:]{sistema de ficheros que implementan los main frame IBM.}

\end{description}

Con  esta   brevísima  descripción   de  los   tipos  de   sistema  de
ficheros podréis  elegir vosotros  mismos cuál queréis  poner. Nuestra
recomendación es la de poner ext2 ya que este sistema de ficheros está
en todas  las distribuciones,  pero si vuestra  distribución os  da la
posibilidad de utilizar un sistema  de ficheros con journaling escoged
ext3 ya que en las comparativas obtiene mejores resultados en sistemas
de propósito  general que los  otros tipos  de sistema de  fichero con
journaling,  y  por  supuesto,  la  elección  entre  journaling  o  no
journaling es la primera. No solo  por tener que estar esperando a que
termine el proceso de fsck, sino  también por la robustez y eficiencia
de este tipo de sistemas de ficheros.\\

Vamos  a dar  por último  la  respuesta a  la pregunta  que muchos  de
vosotros os estaréis haciendo: ¿Podré utilizar la partición de Windows
desde  Linux y  la  de  Linux desde  Windows?.  Hay varias  respuestas
bastante claras y  tajantes. La respuesta a si se  podrán utilizar las
particiones de  Linux desde Windows  es no. La otra  respuesta depende
del tipo  de sistema  de ficheros  que tengamos  en Windows.  Para los
sistemas de  ficheros del tipo  FAT16 o  FAT32 se podrán  utilizar sin
problemas. Para los sistemas de  ficheros con NTFS lo más recomendable
es utilizarlos en modo lectura, ya que es muy peligroso intentar hacer
una operación de escritura en esa partición desde Linux.

\section{Instalación del kernel y los módulos}

En este momento ya le hemos dicho al sistema de instalación dónde va a
tener que colocar  todos los ficheros. Ahora tendremos  que comenzar a
tomar decisiones  para indicar qué es  lo que queremos instalar  y qué
hardware tenemos en nuestra máquina.\\

Lo  primero  que tendremos  que  hacer  es  elegir qué  kernel  poner.
Normalmente podemos elegir entre unas  pocas opciones. Llegados a este
punto si  no sabéis  por cuál  elegir, escoged  la recomendada  por la
distribución. Ésta es  siempre una buena elección en caso  de duda. En
cambio si sabéis el kernel que queréis poner entre todas las opciones,
seleccionadlo y continuemos con la instalación.\\

Una vez  decidido qué kernel  vamos a  usar tendremos que,  en algunas
instalaciones,  decir qué  hardware  tenemos instalado  y qué  drivers
queremos que use. Este paso se  hace cada vez de manera más automática
y no está recomendado para la gente que instala por primera vez Linux.
Sin embargo, no pasa nada  por mirar  tocar e intentar  cargar módulos
para  ver qué  es lo  que pasa.  Quienes  hayan  instalado un  sistema
Linux previamente  y conozcan  el tipo  de hardware  que poseen  y los
módulos  que  hacen falta  para  que  éste funcione  correctamente  es
éste el  momento de  seleccionarlos y  configurarlos para  su correcta
instalación.\\

\begin{figure}[hbtp]
\centering
\includegraphics[width=\textwidth]{imagenes/lycoris_ethernet.eps}
\caption{Instalación 4}
\end{figure}


Si hemos  instalado módulos  de hardware que  necesitan algún  tipo de
configuración, por ejempo tarjetas de  red, tras haber seleccionado el
módulo y  cargado con éxito  en el kernel, tendremos  que proporcionar
la  información necesaria  al  sistema para  que  se pueda  configurar
dicho hardware  correctamente, que  generalmente será  algún parámetro
adicional. En  el caso de la  tarjeta de red tendremos  que decirle si
coge la configuración por dhcp o  si la especificamos nosotros a mano,
etc\ldots



\section{Estableciendo el arranque}

Este es otro de los pasos delicados de la instalación, menos que el de
particionar el disco duro pero tambien tendremos que tener cuidado con
lo  que hacemos.  Vamos a  seguir la  estructura del  apartado de  las
particiones, es decir, vamos a separar los sistemas donde conviven dos
sistemas operativos y los sistemas donde sólo tenemos Linux.\\

Para aquellas máquinas con arranque dual  Windows y Linux lo normal es
que no se disponga de un sistema gestor del arranque antes de instalar
Linux, por  lo tanto tendremos que  instalar el gestor de  arranque de
nuestra distribución  (LILO o GRUB) en  el master boot record  MBR. Lo
que lograremos de con esto es que nuestro cargador se ejecute antes de
cualquiera de  los sistemas operativos  y nos permita decidir  cual de
los dos quermos arrancar. No basta  con instalar el gestor de arranque
en el  MBR, sino que,  tendremos que indicar que  particiones queremos
que  arranque.  Normalmente  esto  se  hace  de  manera  automática  y
simplemente tendremos que seleccionar las particiones a arrancar, pero
si no sucede de manera  automática haremos uso de nuestro conocimoento
en nomenclatura de  particiones para indicar que  arranque por ejemplo
la primera partición de nuestro IDE1 maestro ({\tt /dev/hda}).\\

En  las  máquinas  donde  no  convivan  los  dos  sistemas  operativos
tendremos que instalar lilo en el master boot record pero no tendremos
que tener tanto cuidado  a la hora de indicar que es  lo que tiene que
arrancar  puesto que  el sistema  de instalación  configurará todo  él
solo.\\


\section{Instalar el sistema base}

En este momento las distribuciones  empiezan a diverger, en el sentido
de que no en todas este paso  se realiza de la misma maner. En algunas
primero se instala el sistema base  y luego se selecciona qué software
extra se  quiere instalar. En  cambio hay otras distribuciones  en las
que el sistema base y el  software adicional a instalar se seleccionan
en un solo paso.\\

Si nuestra distribución decide instalar el sistema base siplemente
haremos caso, en este paso normalmente no hay muchas cosas que
decidir. Simplemente se instalan los programas básicos para que el
sistema operativo pueda arrancar y poco más.

\begin{figure}[h]
\centering
\includegraphics[width=\textwidth]{imagenes/lycoris_usuario.eps}
\caption{Instalación 5}
\end{figure}


\section{Instalar el software}

En este momento  las distribuciones empizan a diverger,  en el sentido
que no en  todas este paso se  realiza de la misma  manera, en algunas
primero se instala el sistema base  y luego se selecciona que software
extra se  quiere instalar. En  cambio hay otras distribuciones  en las
que el sistema base y el  software adicional a instalar se seleccionan
en un solo paso.\\

Hoy en día las distribuciones traen un sistema gráfico de selección de
paquetes (software a instalar). Normalemente se encuentran organizados
en categorías o ramas según el fin para el cual se usará ese software.
A continuación vamos a describir los más comunes:\\

\begin {description}

	\item{{\bf  Paquetes base} \\
 		Tal y  como su  propio nombre  indica se  trata del
 		sistema base  nombrado en el  parrafo anterior. Entre otros  incluye utilidades
 		como  {\bf bash}  (un tipo  de consola,  shell), {\bf  adduser} (utilidad  para
 		añadir y eliminar usuarios), {\bf gzip} (compresor de ficheros) \ldots
	}
	\item{{\bf Paquetes devel} \\
		Esta sección de software está dedicada al desarrollo del mismo, es decir
		que en esta rama es donde podremos encontrar herramientas de programación
		tales como compiladores, librerías, depuradores, preprocesadores, etc.
		Algunos de ellos son: {\bf g++} (compilador de C++),
		{\bf g77} (compilador de Fortran77), {\bf ddd} (depurador de código), {\bf
		cvs} (sistema de control de revisiones) \ldots
	}
	\item{{\bf Paquetes doc} \\
		Aqui podemos encontrar todo tipo de documentación relacionada con los
		programas instalados o el uso de librerías. Sin duda lo más destacable de
		este apartado son las llamadas páginas man {\bf (manpages)}
	}
	\item{{\bf Paquetes math} \\
		Software dedicado a realizar tareas matemáticas. Podremos encontrar
		programas como {\bf GNUplot} (generador de gráficas), {\bf octave}
		(programa estrella de esta sección, sirve para realizar todo tipo de
		cálculos numéricos, simulaciones, representaciones etc; un clónico de
		MathLab), {\bf gnumeric} (hoja de cálculo para GNOME) \ldots
	}
	\item{{\bf Paquetes X11} \\
		Esta rama de paquetes proporciona la mayoría de los componentes del
		sistema X - Window desarrolados por XFree86 Project, junto a otros
		accesorios. Podremos encontrar el sistema base de las X, KDE, GNOME,
		administradores de sesiones como xdm, gdm, kdm, distintos tipos de
		fuentes, servidor de fuentes (xfs), etc.
	}
\end {description}

Los  paquetes  nombrados  previamente  son solamente  algunos  de  los
básicos.  Todas las  distribuciones  traen una  multidud de  programas
adicionales los cuales podreís instalar  a vuestro gusto y dependiendo
de sus necesidades. Casi todas las aplicaciones se pueden encontrar en
los  CD's de  vuestra  distribución favorita,  pero  algunas de  ellas
pueden no estar en esos CD's.\\

\begin{figure}[hbtp]
\centering\includegraphics[width=\textwidth]{imagenes/kpackage.eps}
\caption{KPackage. Gestor de paquetes RPM y DEB para KDE}
\end{figure}

Para instalar esos programas bastará con descargar los paquetes de esa
aplicación e instalarlos. Hay que anotar que existen paquetes binarios
(compilados) para  las distintas  distribuciones. Los más  famosos son
los  paquetes  .RPM  (los  cuales  usan Red  Hat  y  Mandrake)  y  los
paquetes  DEB (usados  en  las distribuciones  Debian).  En la  página
www.rpmfind.net  podremos  encontrar  (casi) todos  los  paquetes  rpm
existentes,  con  lo  cual  nos  bastará con  buscar  el  programa  en
cuestión,  descargarlo  e  instalarlo  ejecutando el  comando  rpm  -i
nombre-del-paquete.rpm. Los usuarios de  Debian lo tienen bastante más
facil en  este aspecto gracias a  las herramientas APT. En  el caso de
que un paquete no se pueda instalar mediante esas herramientas podemos
descargar nuestro paquete .deb e instalarlo ejecutando el comando dpkg
-i nombre-del-paquete.deb. \\

Existen  más  tipos   de  paquetes  dependiendo  de   la  multitud  de
distribuciones, pero  algunas veces no podremos  encontrar el software
deseado  en  forma de  paquete  binario.  En  ese caso  tendremos  que
descargar  el código  fuente  del programa,  compilarlo e  instalarlo.
Normalmente el código se encuentra en forma de paquetes .TGZ (paquetes
comprimidos), con lo cual habrá  que descomprimirlos antes de nada. La
secuencia de pasos para realizar lo anterior es la siguiente:

\begin{itemize}
	\item{tar zxvf nombre-del-paquete.tgz}
	\item{cd directorio/del/programa}
	\item{./configure}
	\item{make}
	\item{make install}
\end{itemize}


Esta secuencia  es la más  usual, pero  (como siempre) no  funciona en
todos  los casos,  para los  cuales  tendremos que  informarnos en  la
documentación del programa. \\

Por último cabe destacar que la  mayoría de software hace uso de otros
programas o librerías  sin las cuales no se podrá  instalar o compilar
la  aplicación  en  cuestión.  La  solución  pasa  por  instalar  esas
dependencias previamente y a continuación el programa.


\section{Configuracion del servidor X}

Dependiendo    de    la    distribución   que    estamos    instalando
nos   encontraremos   con   distintas   utilidades   para   configurar
X-Window-SystemDependiendo de  la distribución que  estamos instalando
nos   encontraremos   con   distintas   utilidades   para   configurar
X-Window-SystemDependiendo de  la distribución que  estamos instalando
nos   encontraremos   con   distintas   utilidades   para   configurar
X-Window-System.  Todas ellas  son  muy similares  entre  sí pero  con
ligeras  diferencias. Para  no  conretar el  proceso de  configuración
según  las  distintas  distribuciones  usaremos  la  herramienta  {\bf
xf86config} la cual está presente en todas ellas. \\

El programa  xf86config es un  programa de  consola, en modo  texto, y
modifica  los  ficheros  de  configuración del  servidor  X,  para  lo
cual necesitaremos  los privilegios  de superusuario. Para  invocar el
programa abrimos una  consola, accedemos como root  (usando el comando
su  si  se procede)  y  tecleamos  xf86config. Nos  encontraremos  con
una  pantalla  de descripción  de  la  aplicación. Cabe  destacar  que
la  ejecución  del programa  se  podrá  abortar en  cualquier  momento
presionando la combinación de teclas  CTRL-C. Así que no debemos temer
a equivocarnos  ya que al  interrumpir esta herramienta no  se afectan
los ficheros de configuración existentes.\\

\begin{figure}[hbtp]
\centering\includegraphics[height=\textwidth]{imagenes/xf86cfg.eps}
\caption{xf86cfg. Utilidad para configurar el servidor X}
\end{figure}

Para  proceder  con  la  configuración pulsaremos  la  tecla  <enter>,
apareciendo  la   pantalla  de  selección  del   protocolo  de  ratón.
Introducimos el número de la opción elegida (normalmente es la 4. PS/2
Mouse) seguida  de un  <enter>. Se nos  preguntará si  queremos emular
el  tercer  botón  (para  aquellos  ratones  con  sólo  dos  botones).
Si  respondemos  afirmativamente  al   pulsar  el  botón  izquierdo  y
derecho  simultaneamente  obtendremos  el  mismo  efecto  como  cuando
pulsamos el tercer botón.Respondemos con  y/n y apretamos <enter> para
poder  llegar  a  introducir  el  nombre  del  dispositivo  del  ratón
(por  defecto  /dev/mouse, y  en  mayoría  de  los casos  nos  servirá
/dev/psaux). Posteriormente se nos  pedirá que introduzcamos el número
correspondiente a nuestro teclado de entre los listados en la pantalla
(los del tipo  generic en caso de duda). A  continuación tendremos que
elegir el  país (España  - 42). Seguidamente  podremos poner  un alias
para el idioma anteriormente elegido.  Pulsando a <enter> se pondrá la
opción por defecto,  y el programa nos preguntará  si queremos activar
las  opciones adicionales  del XKB  (en caso  de duda  'n' seguido  de
<enter>) \\

A  continuación accederemos  al apartado  de configuración  de nuestro
monitor. Observando las opciones mostradas  en la pantalla y elegiendo
las  adecuadas avanzaremos  dos apartados  y  en el  siguiente se  nos
pedirá que escribamos  un identificador para el  monitor. Escribid una
cadena con su  nombre, descripción o lo que queráis  y pulsad la tecla
<enter> para poder elegir nuestra tarjeta de video\\

Si  leemos la  pantalla  averiguamos  que al  pulsar  'y' <enter>  nos
aparecerá  un  listado  de  tarjetas  soportadas  (al  pulsar  <enter>
continúa  la  lista)  del  cual tendremos  que  introducir  el  número
correspondiente  a  nuestro modelo  de  tarjeta.  Seguidamente se  nos
pedirá el tamaño de  la memoria de la tarjeta de  video (4096K son 4M,
32768K son  16M \ldots). Al  igual que en el  caso del monitor  se nos
pedirá una cadena para identificar  la tarjeta de video. Elegiremos la
profundidad de color  que deseamos que sea por defecto  y estaremos en
el último  paso que es el  de guardar el fichero  de configuración. Si
estamos seguros de haber  elegido las opciones adecuadas responderemos
afirmativamente  o en  el  caso contrario  abortaremos  el programa  y
volveremos desde principio. \\

El proceso anterior  a simple vista parece  demasiado complicado, pero
es sencillo con un poco de  paciencia. Destacar lo dicho al principio,
que cada distribución tiene su propia herramienta de configuración del
servidor  X,  las cuales  resultan  bastante  más sencillas  de  usar.
Algunos fabricantes de tarjetas  de video como NVIDIA (www.nvidia.com)
proporcionan drivers de sus tarjetas  para Linux, así como los drivers
OpenGL y documentación sobre su instalación.

\section{Configuración del acceso a internet}

Este apartado  lo vamos a  dividir en tres subbloques  dependiendo del
tipo de nuestra conexión. Vamos a  hablar de como configurar el acceso
a internet mediante  un modem (externo o interno), una  línea ADSL con
router ADSL, y una conexión mediante un cable - modem.

\subsection{Acceso mediante modem}

Casi  todos los  modems externos  están  soportados por  el kernel  de
Linux; en  cambio hay  muy pocos  modem internos  para los  cuales hay
soporte en nuestro S.O. favorito.  Actualmente existe soporte para los
siguientes:

\begin{itemize}
\item{Modems que hagan uso de los chipsets Lucent Apollo (ISA) y Lucent Mars (PCI)}
\item{Modems Intel V90 HaM e Intel 536ep}
\item{Modem IBM Mwave (usado en el Thinkpad 600E y posteriores)}
\item{Modems Conexant que hagan uso de los chipsets Conexant HCF y HSF}
\item{Modems ESS ISA}
\end{itemize}

Toda  la documentación  sobre la  instalación y  los drivers  para los
modems anteriores se pueden encontrar en la página www.linmodems.org.

Antes de empezar con la configuración de nuestro modem nombrar como en
casos  anteriores que  existen herramientas  específicas de  distintas
distribuciones, escritorios o aplicaciones (como es el caso de KPPP de
KDE el cual es intuitivo y  bastante sencillo de configurar). Otra vez
volveremos a usar una aplicación  incluida en todas las distribuciones
llamada  {\bf  pppd}  y  la utilidad  de  configuración  del  programa
anterior {\bf pppconfig}. También nombrar  que antes de empezar con el
proceso debemos tener instalado el pppd  y activado el soporte para el
protocolo  PPP  (Point  to  Point Protocol)  en  el  kernel,  apartado
network  devices, el  cual suele  estar activado  al instalar  nuestra
distribución.

\begin{figure}[hbtp]
\centering\includegraphics[width=\textwidth]{imagenes/kpp.eps}
\caption{KPPP. Interfaz GUI de pppd para KDE}
\end{figure}

Gracias a una herramienta como  pppconfig la tarea de configuración es
muy  sencilla,  basta con  ejecutar  el  programa e  ir  introduciendo
los  datos  requeridos  por  el  mismo.  Esta  utilidad  modifica  los
ficheros  de  configuiración, asi  que  antes  de empezar  necesitamos
acceder como  root y a continuación  escribir en la línea  de comandos
pppconfig. Seleccionamos la opcion  marcada (crear una conexión nueva)
y posteriormente  introducimos un identificador para  nuestra conexión
(como ejemplo usaremos 'nueva-conexion'). Elejimos nuestro tipo de DNS
(casi siempre estático,  dependiendo de nuestro proveedor  de acceso a
internet), seleccionamos <OK> y seguidamente introducimos la dirección
del servidor DNS  primario y secundario si  tenemos (ambas direcciones
son proporcionadas por el proveedor de acceso).\\

En este  momento habrá que  seleccionar el método  de autentificación.
PAP suele funcionar  y si no es así prueben  CHAT o CHAP. Introducimos
el nombre  de usuario,  la contraseña, la  velocidad de  nuestro modem
(dejad la  opción por  defecto en  caso de duda  - 115200),  método de
marcación  (tonos o  pulsos)  y el  número de  teléfono  del acceso  a
internet.\\

A continuación el programa intentará autodetectar el puerto de nuestro
modem. En  el caso  de que  no lo  consiga tendremos  que introducirlo
nosotros.  En  algunos casos  estará  en  /dev/modem. Si  lo  anterior
tampoco funciona  debemos saber que  los puertos COM  son dispositivos
que se encuentran en /dev y se relacionan mediante la siguiente tabla:

\begin{center}
	\begin{tabular}{c|c}
	Dispositivo & Puerto \\
	\hline
	/dev/ttyS0 & COM1 \\
	/dev/ttyS1 & COM2 \\
	/dev/ttyS2 & COM3 \\
	/dev/ttyS3 & COM4 \\
	\end{tabular}
\end{center}

Normalmente los modems  externos usan el COM1 o el  COM2, mientras los
internos usan el COM3 o el  COM4. Anotar que /dev/modem es simplemente
un enlace  a alguno de  los /dev/ttySx. Introduciremos  el dispositivo
correspondiente  (/dev/ttySx)  y  habrémos  acabado  con  el  proceso.
Guardamos los cambios y abandonamos al asistente pppconfig.

\begin{figure}[hbtp]
\centering\includegraphics[width=\textwidth]{imagenes/pppconfig.eps}
\caption{PPPConfig}
\end{figure}

Los ficheros de configuración por  defecto se guardan en el directorio
/etc/ppp. Buscamos la ruta del  fichero con el nombre 'nueva-conexion'
(u  otro introducido  como  identificador) y  ejecutamos el  siguiente
comando:

\begin{center}
	{\bf cila\$ pppd file /ruta/del/fichero/nueva-conexion}
\end{center}

Lo cual normalmente corresponde a lo siguiente:

\begin{center}
	{\bf cila\$ pppd file /etc/ppp/peers/nueva-conexion}
\end{center}

Podremos  observar  que  es  lo  que está  sucediendo  en  el  fichero
{\tt /var/log/messages} con el comando:

\begin{center}
	{\bf cila\$ tail -f /var/log/messages}
\end{center}

Podemos  finalizar nuestra  conexión matando  el proceso  pppd con  un
comando kill.\\

Por   último  recordar   que  existen   muchos  otros   asistentes  de
configuración algunos de  los cuales pueden simplificar  el proceso de
configuración.

\subsection{Acceso mediante ADSL y cable modem}

La configuración de acceso usando una  línea ADSL que vamos a explicar
en  este apartado  es usando  un  Router ADSL  el cual  debe de  estar
previamente  configurado. También  necesitaremos una  tarjeta Ethernet
que funcione en Linux.\\

Para poder  realizar el acceso  tenemos que configurar la  interfaz de
red. Normalmente  usaremos el  programa {\bf  ifconfig} con  una orden
similar a la siguiente (root):

\begin{center}
	{\bf cila\$ ifconfig eth0 192.168.0.2 netmask 255.255.255.0 up}
\end{center}

Con  el comando  anterior estamos  counfigurando la  interfaz Ethernet
eth0, asignándole una dirección IP  192.168.0.2 y la máscara de subred
255.255.255.0.  En internet  se pueden  encontrar varios  tutoriales y
manuales de  configuración de  red, así  que no  nos vamos  a extender
demasiado en este punto. El paso siguiente es establecer un camino por
defecto ({\bf gateway}). Lo haremos con este comando:

\begin{center}
	{\bf cila\$ route add default gw 192.168.0.1 eth0}
\end{center}

donde 192.168.0.1 es la dirección IP de nuestro router ADSL.\\

Para  no tener  que repetir  este proceso  cada vez  que iniciamos  el
ordenador podemos poner la información sobre nuestra interfaz de red y
el gateway en un fichero de  configuración que normalmente están en el
directorio /etc y tienen nombres similares a network, networks \ldots;
en la  distribución debian  se encuentra en  /etc/network/interfaces y
cuyo aspecto es parecido al siguiente:

\begin{verbatim}
	auto eth0
	iface eth0 inet static
	   address 192.168.1.50
	   netmask 255.255.255.0
	   network 192.168.1.0
	   broadcast 192.168.1.255
	   gateway 192.168.1.1
\end{verbatim}

En  otras distribuciones  existen utilidades  de configuración  de red
como netcfg (RedHat) o netconfig (Slackware).\\

En un acceso  a internet através de un cable  modem la autentificación
de usuario  y la dirección IP  se obtiene de manera  dinámica a través
del servicio  DHCP. Además de  lo anterior  se obtendra la  máscara de
subred, dirección de  gateway y las direcciones DNS; es  decir todo se
configura por si  mismo. Para su uso tendremos que  tener instalado un
cliente  DHCP,  por  ejemplo  dhcp-client. En  el  fichero  interfaces
bastará poner:

\begin{verbatim}
	auto eth0
	iface eth0 inet dhcp
\end{verbatim}

para  poder  usar  este  servicio.  En  los  distintos  asistentes  de
configuración  seleccionaremos el  uso  de DHCP  y  con esa  operación
tendremos configurada  la interfaz de red  y por lo tanto  el acceso a
internet através de un cable modem.


\section{Configuración de la impresora: CUPS}

En  Linux podemos  utilizar varios  sitemas de  impresión y  nos sería
imposible explicarte como se configuran  todos ellos, aquí nos vamos a
centrar en uno en concreto, CUPS, Common Unix Printing System.\\

Una de las  ventajas que tiene este  sistema frente a los  otros es su
facilidad  de configuración  ya que  podemos configurar  completamente
nuestras impresoras desde un navegador.\\

El cups está diseñado para que  podamos utilizar una misma impresora o
un grupo de éstas desde cualquier pc que esté en la red, es decir, que
un amigo  siempre que tu le  des permiso y estés  conectado a internet
podrá utilizar tu impresora para sacar  a tiempo ese trabajo que tiene
que entregar mañana y no le ha  dado tiempo de ir a comprar tinta para
la impresora o se ha quedado sin papel o mil cosas que suelen pasar.\\

Para   configurar  el   sistema   simplemente   tendremos  que   abrir
un   navegador   y  en   la   barra   de  dirección   colocaremos:{\tt
http://localhost:631}, en ese momento,  si nosotros no tenemos permiso
para  configurar el  sistema  de  impresión nos  saldrá  un cuadro  de
diálogo en el  que tendremos que introducir el nombre  de usuario y el
password  de un  usuario del  sistema con  permiso para  configurar el
CUPS, por ejemplo root. Una vez  obtenido acceso a la configuración de
CUPS en el navegador aparecerá una página web como esta:

\begin{figure}[hbtp]
\centering
\includegraphics[width=\textwidth]{imagenes/cups_inicio.eps}
\caption{CUPS 1}
\end{figure}

Para  comenzar   con  la   configuración  pulsaremos  sobre   {\tt  Do
Administration Tasks}  en ese  momento nos aparecerán  tres categorías
sobre las que podemos operar: clases, jobs, printers.\\

Las   clases  son   grupos   de  impresoras   con  unas   determinadas
caracteristicas que  se unen para  hacer más  facil la gestión  de los
documentos.  Por ejemplo,  si en  una oficina  se tienen  3 impresoras
laser, 2 chorro de tinta a color y 5 matriciales, podríamos hacer tres
grupos:  grupo laser,  donde  meteríamos las  impresoras láser;  grupo
tinta  donde colocaríamos  las impresoras  a chorro  de tinta  y grupo
matricial donde estarían las  impresoras matriciales. Con estos grupos
confeccionados  cuando quisiéramos  imprimir un  documento simplemente
tendríamos que  elegir uno de los  tres grupos y nuestro  documento se
imprimirá en la  impresora que antes quede libre de  trabajo del grupo
seleccionado.

Los jobs o trabajos son los trabajos  que hay en este instante en cola
para imprimir,  podremos eliminarlos,  detener su impresión,  etc. Los
trabajos que  ya han  sido terminados  también podremos  reanudarlos y
conocer varios datos sobre ellos.\\

Las  impresoras  son los  dispositivos  de  impresión que  tenemos  en
nuestro sistema podremos añadir impresoras  nuevas o gestionar las que
tenemos. Como nosotros vamos a  instalar nuestra impresora por primera
vez pulsaremos sobre {\tt Add Printer}.\\

Tendremos  que ir  facilitando  los  datos que  se  nos solicitan,  lo
primero es asignarle un nombre, decir  donde se encuentra y añadir una
breve descripción al nombre.

\begin{figure}[h!]
\centering
\includegraphics[width=7cm]{imagenes/cups_instalando1.eps}
\caption{CUPS 2}
\end{figure}

Lo  siguiente   es  seleccionar  donde  tendremos   conectada  nuestra
impresora,  normalmente tendremos  conectada  la  impresora al  puerto
paralelo ({\tt Parallel Port \#1})

\begin{figure}[h!]
\centering
\includegraphics[width=7cm]{imagenes/cups_instalando2.eps}
\caption{CUPS 3}
\end{figure}

En  la siguiente  página tendremos  que seleccionar  el fabricante  de
nuestra impresora.

\begin{figure}[h!]
\centering
\includegraphics[width=7cm]{imagenes/cups_instalando3.eps}
\caption{CUPS 4}
\end{figure}

A continuación elegiremos el modelo de impresora

\begin{figure}[h!]
\centering
\includegraphics[width=7cm]{imagenes/cups_instalando4.eps}
\caption{CUPS 5}
\end{figure}

y listo, nuestra  impresora ya está instalada,  simplemente faltan los
últimos  retoques. Pulsaremos  sobre el  nombre  que le  hemos dado  a
nuestra impresora y aparece la siguiente pantalla:

\begin{figure}[h!]
\centering
\includegraphics[width=7cm]{imagenes/cups_configurando.eps}
\caption{CUPS 6}
\end{figure}

Ahora pulsamos sobre  {\tt Configure Printer} y  seleccionamos el tipo
de papel  que queremos  usar, la  calidad de impresión  y ese  tipo de
cosas. Ya tenemos nuestra impresora lista para imprimir cualquier tipo
de  documento. Si  queremos comprobar  como imprime  nuestra impresora
podemos  pulsar en  la pantalla  anterior a  {\tt print  test page}  e
imprimirá la página de prueba de CUPS.


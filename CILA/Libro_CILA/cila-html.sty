%%% Copyright   Miguel Ángel Vilela
%%%             Facultad de Matemáticas
%%%             Universidad de La Laguna
%%%             C/ Astrofísico Francisco Sánchez
%%%             E-mail miguev@fmat.ull.es
%%%
%%% With code from: fncychap.sty, written by Ulf A. Lindgren <lindgren@ae.chalmers.se>
%%%                 ull.sty,      written by Manolo G. Román <mroman@ull.es>
%%%
%%%
%%% Note        Premission is granted to modify this file under
%%%             the condition that it is saved using another
%%%             file and package name.
%%%
%%% Revision    0.1
%%%
%%%             Feb. 22th Started package.
%%%
%%% Last modified    February 22th 2002

\NeedsTeXFormat{LaTeX2e}[1995/12/01]
\ProvidesPackage{cila-html}
             [2002/02/22 v0.1
                 LaTeX package (Estilo para los apuntes del TILA)]

%%%
%%% Comandos para siglas
%%%
\newcommand{\FMAT}{{\sc Facultad de Matemáticas}}
\newcommand{\ULL}{{\sc Universidad de La Laguna}}
\newcommand{\GULiC}{{\sc Grupo de Usuarios de Linux de Canarias}}
\newcommand{\CILA}{Curso de Introdución a Linux para Alumnos}
\newcommand{\PILA}{Party de Instalación de Linux para Alumnos}
\newcommand{\TIL}{Taller de Iniciación a Linux}
\newcommand{\TILA}{Taller de Iniciación a Linux para Alumnos}


%%% Implementación en  TeX del  "Índice de  ejemplos" Crea  el entorno
%%% "ejemplo" y el contador "nejemplo" Su uso es:
%%%
%%% En el lugar donde se desee  poner el "Índice de ejemplos" utilizar
%%% el comando \listadeejemplos
%%%
%%% Para poner  un ejemplo  en el documento:  (Los dos  argumentos son
%%% obligatorios)
%%%
%%% \begin{ejemplo}{Nombre del fichero de ejemplo}{Descripción corta del ejemplo}
%%%   Descripción y comentarios del ejemplo.
%%% \end{ejemplo}
%%%
%%% El nombre  del fichero titulará  el ejemplo en la  parte superior,
%%% con una etiqueta de "Fichero <nombrefichero>"
%%%
%%% La descripcion corta será la referencia que aparecerá en el Índice
%%% de ejemplos.
%%%
%%% La descripción (mas larga) del ejemplo aparecera recuadrada debajo
%%% del mismo.
%%%
%%% Ejemplo de uso:
%%%
%%% \begin{ejemplo}{hola.c}{HolaMundo en ANSI C}
%%%   Este codigo en ANSI C muestra un programa basico de HolaMundo,
%%%   que se limita a imprimir la cadena "Hola Mundo" en la salida estandar.
%%% \end{ejemplo}
%%%
\usepackage{moreverb}
\newcommand{\listadeejemplos}{%
\cleardoublepage\chapter*{Índice de ejemplos}% Creamos el índice de ejemplos
\label{IndiceDeEjemplos}\@starttoc{lde}}%      y lo etiquetamos 
\newcounter{nejemplo}[chapter]%                Contador subordinado al chapter
\newcommand{\ejemploname}{Ejemplo }%           Nombre de la etiqueta
\newcommand{\ejemplopath}{ejemplos/}%          Directorio de ejemplos
\newenvironment{ejemplo}[2]{%                  Entorno "ejemplo", 2 argumentos
\newcommand{\source}{#1} %                     Descripción corta del ejemplo
\newcommand{\descripcion}{{\tt[#1]} #2} %      Descripción larga del ejemplo
\vspace*{2mm}%                                 Pequeño margen superior 
\noindent\fbox{\sf Fichero \tt \source}%        Nombre del fichero del ejemplo
\newline\rule[5mm]{\textwidth}{1pt} %                  Regla separadora al principio
\stepcounter{nejemplo}%                        Se incremente el contador y
\addcontentsline{lde}{section}{%               se añade una línea al índice
\protect\numberline{\thechapter.\thenejemplo}\descripcion}%  de ejemplos
\vspace{-15mm}%                				   Se ajustan espacios
\verbatimtabinput[8]{\ejemplopath\source}%     Se incluye el fichero fuente
\vspace{-6mm}%                				   Se ajustan espacios
\rule[1mm]{\textwidth}{1pt}\newline %          Se inserta un \n y otra regla
\begin{tabular}{|p{0.97\textwidth}|}%          Se abre una tabla para la
\hline%\rowcolor[gray]{0.9}%                   descripción del ejemplo, con
\sf\ejemploname\thechapter.\thenejemplo:}{\\ % color gris claro de fondo
\hline\end{tabular}\vspace{4mm}}%              Se deja un espacio vertical 






\newcommand{\incluye}[1]{\include{#1}}


%%%
%%%  Extraido de cila-latex.sty (de Tomás Bautista)
%%%
\newcommand{\manual}{Manual de \emph{\LaTeX{}}~\cite{manual}} 
\newcommand{\companion}{\emph{The \LaTeX{} Companion}~\cite{companion}} 
\newcommand{\guialatex}{\emph{Gu\'{\i}a Local}~\cite{local}}
\newcommand{\contrib}[3]{#1\quad$<$\texttt{#2}$>$%
{\small\\\quad\textit{#3}}\\[1ex]}
%
% Algunas instrucciones para ayudar a la creación del índice de
% materias.
%
%\newcommand{\bs}{\symbol{'134}}%Print backslash
\ifx\bs\undefined
  \newcommand{\bs}{\symbol{92}}%Print backslash
\else
  \renewcommand{\bs}{\symbol{92}}%Print backslash
\fi
%\newcommand{\bs}{\ensuremath{\mathtt{\backslash}}}%Imprime barra invertida
% Entrada en el índice para una orden
\newcommand{\cih}[1]{%
\index{\LaTeX!instrucciones!#1@\texttt{\bs#1}}%
\index{\LaTeX!#1@\texttt{\hspace*{-1.2ex}\bs #1}}}
\newcommand{\ci}[1]{\cih{#1}\texttt{\bs#1}}
%Package
\newcommand{\pai}[1]{%
\index{\LaTeX!paquetes!#1@\textsf{#1}}%
\index{\LaTeX!#1@\textsf{#1}}%
\textsf{#1}}
% Entrada en el índice de entorno
\newcommand{\ei}[1]{%
\index{\LaTeX!entornos!\texttt{#1}}%
\index{\LaTeX!#1@\texttt{#1}}%
\texttt{#1}}
% Entrada en el índice para mensajes
\newcommand{\wni}[1]{%
\index{\LaTeX!mensaje!\texttt{#1}}%
\texttt{#1}}
% Entrada en el índice de una palabra
\newcommand{\wi}[1]{#1\index{\LaTeX!#1}}
%
% Instrucciones de composición
%
\newenvironment{command}%
    {\nopagebreak\par\small\addvspace{3.2ex plus 0.8ex minus 0.2ex}%
     \vskip -\parskip
     \noindent%
     \begin{tabular}{|l|}\hline\rule{0pt}{1em}\ignorespaces}%
    {\\\hline\end{tabular}\par\nopagebreak\addvspace{3.2ex plus 0.8ex
        minus 0.2ex}%
     \vskip -\parskip}
%
% Composición de fragmentos de código
%
\newenvironment{code}{\begin{quote}}{\end{quote}}
%
% Entorno Intro
\newenvironment{intro}{\sffamily}{\vspace*{2ex minus 1.5ex}}
%
%
% Entrada de símbolo para la tabla de símbolos matemáticos
%
\newcommand{\X}[1]{$#1$&\texttt{\string#1}\hspace*{1ex}}
% Text normal.... 
\newcommand{\SC}[1]{#1&\texttt{\string#1}\hspace*{1ex}}
% para los acentos en modo texto
\newcommand{\A}[1]{#1&\texttt{\string#1}\hspace*{1ex}}
\newcommand{\B}[2]{#1#2&\texttt{\string#1{} #2}\hspace*{1ex}}

\newcommand{\W}[2]{$#1{#2}$&
  \texttt{\string#1}\texttt{\string{\string#2\string}}\hspace*{1ex}}
\newcommand{\Y}[1]{$\big#1$ &\texttt{\string#1}}  %
% Tabla de símbolos matemáticos
\newsavebox{\symbbox}
\newenvironment{symbols}[1]%
{\par\vspace*{2ex}
\renewcommand{\arraystretch}{1.1}
\begin{lrbox}{\symbbox}
\hspace*{4ex}\begin{tabular}{@{}#1@{}}}%
{\end{tabular}\end{lrbox}\makebox[\textwidth]{\usebox{\symbbox}}\par\medskip}
%
% Imprimir |--| para mostrar distancia
%
\newcommand{\demowidth}[1]{\rule{0.3pt}{1.3ex}%
\rule{#1}{0.3pt}\rule{0.3pt}{1.3ex}}
%
%
% --- ejemplo ----
% Este es un entorno para mostrar ejemplso en LaTeX.
% En la parte izquierda se muestra el texto fuente
% y en la derecha la composición.
%
% \begin{example}
% \Large Esto es grande
% \end{example}
%
% Esta parte procede de verbaim.sty de FMi
% 
\newwrite\example@out
\newenvironment{example}%
 {\begingroup% Lets Keep the Changes Local
  \@bsphack
  \immediate\openout \example@out \jobname.exa
  \let\do\@makeother\dospecials\catcode`\^^M\active
  \def\verbatim@processline{%
    \immediate\write\example@out{\the\verbatim@line}}%
  \verbatim@start}%
 {\immediate\closeout\example@out\@esphack\endgroup%
%
% Y aquí lo que se ha añadido
%
  \par\small\addvspace{3ex plus 1ex}\vskip -\parskip
  \noindent
  \makebox[0.45\linewidth][l]{%
  \begin{minipage}[t]{0.45\linewidth}
    \vspace*{-2ex}
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{1ex plus 0.4ex minus 0.2ex}
    \begin{trivlist}
      \item\input{\jobname.exa}
    \end{trivlist}
  \end{minipage}}%
  \hfill%
  \makebox[0.5\linewidth][l]{%
  \begin{minipage}[t]{0.50\linewidth}
    \vspace*{-1ex}
    \verbatiminput{\jobname.exa}
  \end{minipage}}
  \par\addvspace{3ex plus 1ex}\vskip -\parskip
}

\newenvironment{lined}[1]%
 {\begin{center}\begin{minipage}{#1}\hrule\medskip}
 {\vspace{-1ex}\hrule \end{minipage}\end{center}}

%%%
%%%  Añadidos para poder compilar 
%%%
\newcommand{\guia}{Guía local}
